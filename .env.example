# Server Configuration
PORT=8443
NODE_ENV=production

# LDAP/Active Directory Configuration
LDAP_URL=ldaps://dc1.example.com:636
LDAP_BASE_DN=DC=example,DC=com
LDAP_BIND_DN=CN=admin,CN=Users,DC=example,DC=com
LDAP_BIND_PASSWORD=your_ldap_password_here
LDAP_TLS_VERIFY=true
LDAP_CA_CERT_PATH=./certs/ad-root-ca.crt
LDAP_TIMEOUT=10000
# TLS Servername: Use when connecting via IP but cert has hostname (SNI)
# Example: LDAP_URL=ldaps://10.0.0.1:636 with LDAP_TLS_SERVERNAME=dc1.example.com
LDAP_TLS_SERVERNAME=
# Skip hostname verification (use with caution, only if TLS_SERVERNAME doesn't work)
LDAP_SKIP_HOSTNAME_VERIFICATION=false

# JWT Authentication Configuration
# Path to RSA key files for RS256 token signing
# Keys will be auto-generated on first startup if they don't exist
JWT_PRIVATE_KEY_PATH=./keys/private.pem
JWT_PUBLIC_KEY_PATH=./keys/public.pem
# Token expiration duration (format: <number><unit> where unit is s/m/h/d)
TOKEN_EXPIRY=1h
# Maximum token uses (0 = unlimited)
TOKEN_MAX_USES=10

# Info Endpoints Configuration (disabled by default for security)
# Enable GET /api/v1/auth/token/info endpoint to get current token info
TOKEN_INFO_ENABLED=false
# Enable GET /api/v1/providers/info endpoint to get providers configuration
PROVIDERS_INFO_ENABLED=false

# Azure AD Configuration (Optional)
# Set AZURE_ENABLED=true to enable Azure AD auditing
AZURE_ENABLED=false
AZURE_TENANT_ID=your_azure_tenant_id_here
AZURE_TENANT_NAME=Your Tenant Name
AZURE_CLIENT_ID=your_azure_client_id_here
AZURE_CLIENT_SECRET=your_azure_client_secret_here

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Database Configuration
# Path to SQLite database file (default: ./data/etc-collector.db)
# Use /app/data/etc-collector.db for Docker deployments
DB_PATH=./data/etc-collector.db
# Enable Write-Ahead Logging for better concurrency (default: true)
DB_ENABLE_WAL=true
# Timeout in milliseconds for lock acquisition (default: 5000)
DB_BUSY_TIMEOUT=5000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUDIT_WINDOW_MS=300000
RATE_LIMIT_AUDIT_MAX=10
